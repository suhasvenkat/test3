{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, name, role) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          email,\n          password,\n          name,\n          role\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":125,"map":[[13,2,28,0,"Object"],[13,8,28,0],[13,9,28,0,"defineProperty"],[13,23,28,0],[13,24,28,0,"exports"],[13,31,28,0],[14,4,28,0,"enumerable"],[14,14,28,0],[15,4,28,0,"get"],[15,7,28,0],[15,18,28,0,"get"],[15,19,28,0],[16,6,28,0],[16,13,28,0,"AuthProvider"],[16,25,28,0],[17,4,28,0],[18,2,28,0],[19,2,107,0,"Object"],[19,8,107,0],[19,9,107,0,"defineProperty"],[19,23,107,0],[19,24,107,0,"exports"],[19,31,107,0],[20,4,107,0,"enumerable"],[20,14,107,0],[21,4,107,0,"get"],[21,7,107,0],[21,18,107,0,"get"],[21,19,107,0],[22,6,107,0],[22,13,107,0,"useAuth"],[22,20,107,0],[23,4,107,0],[24,2,107,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,4,0],[30,6,4,0,"_expoConstants"],[30,20,4,0],[30,23,4,0,"require"],[30,30,4,0],[30,31,4,0,"_dependencyMap"],[30,45,4,0],[31,2,4,0],[31,6,4,0,"Constants"],[31,15,4,0],[31,18,4,0,"_interopDefault"],[31,33,4,0],[31,34,4,0,"_expoConstants"],[31,48,4,0],[32,2,4,39],[32,6,4,39,"_reactJsxDevRuntime"],[32,25,4,39],[32,28,4,39,"require"],[32,35,4,39],[32,36,4,39,"_dependencyMap"],[32,50,4,39],[33,2,6,0],[33,8,6,6,"BACKEND_URL"],[33,19,6,17],[33,22,6,20,"Constants"],[33,31,6,29],[33,32,6,29,"default"],[33,39,6,29],[33,40,6,30,"expoConfig"],[33,50,6,40],[33,52,6,42,"extra"],[33,57,6,47],[33,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[33,82,6,72],[33,86,6,76,"process"],[33,93,6,83],[33,94,6,84,"env"],[33,97,6,87],[33,98,6,88,"EXPO_PUBLIC_BACKEND_URL"],[33,121,6,111],[34,2,26,0],[34,8,26,6,"AuthContext"],[34,19,26,17],[34,35,26,20],[34,39,26,20,"createContext"],[34,45,26,33],[34,46,26,33,"createContext"],[34,59,26,33],[34,61,26,63,"undefined"],[34,70,26,72],[34,71,26,73],[35,2,28,7],[35,8,28,13,"AuthProvider"],[35,20,28,66],[35,23,28,69,"AuthProvider"],[35,24,28,70],[36,4,28,72,"children"],[37,2,28,81],[37,3,28,82],[37,8,28,87],[38,4,29,2],[38,10,29,8],[38,11,29,9,"user"],[38,15,29,13],[38,17,29,15,"setUser"],[38,24,29,22],[38,25,29,23],[38,28,29,26],[38,32,29,26,"useState"],[38,38,29,34],[38,39,29,34,"useState"],[38,47,29,34],[38,49,29,48],[38,53,29,52],[38,54,29,53],[39,4,30,2],[39,10,30,8],[39,11,30,9,"token"],[39,16,30,14],[39,18,30,16,"setToken"],[39,26,30,24],[39,27,30,25],[39,30,30,28],[39,34,30,28,"useState"],[39,40,30,36],[39,41,30,36,"useState"],[39,49,30,36],[39,51,30,52],[39,55,30,56],[39,56,30,57],[40,4,31,2],[40,10,31,8],[40,11,31,9,"loading"],[40,18,31,16],[40,20,31,18,"setLoading"],[40,30,31,28],[40,31,31,29],[40,34,31,32],[40,38,31,32,"useState"],[40,44,31,40],[40,45,31,40,"useState"],[40,53,31,40],[40,55,31,41],[40,59,31,45],[40,60,31,46],[41,4,33,2],[41,8,33,2,"useEffect"],[41,14,33,11],[41,15,33,11,"useEffect"],[41,24,33,11],[41,26,33,12],[41,32,33,18],[42,6,34,4,"loadStoredAuth"],[42,20,34,18],[42,21,34,19],[42,22,34,20],[43,4,35,2],[43,5,35,3],[43,7,35,5],[43,9,35,7],[43,10,35,8],[44,4,37,2],[44,10,37,8,"loadStoredAuth"],[44,24,37,22],[44,27,37,25],[44,33,37,25,"loadStoredAuth"],[44,34,37,25],[44,39,37,37],[45,6,38,4],[45,10,38,8],[46,8,39,6],[46,14,39,12,"storedToken"],[46,25,39,23],[46,28,39,26],[46,34,39,32,"AsyncStorage"],[46,46,39,44],[46,47,39,44,"default"],[46,54,39,44],[46,55,39,45,"getItem"],[46,62,39,52],[46,63,39,53],[46,70,39,60],[46,71,39,61],[47,8,40,6],[47,14,40,12,"storedUser"],[47,24,40,22],[47,27,40,25],[47,33,40,31,"AsyncStorage"],[47,45,40,43],[47,46,40,43,"default"],[47,53,40,43],[47,54,40,44,"getItem"],[47,61,40,51],[47,62,40,52],[47,68,40,58],[47,69,40,59],[48,8,42,6],[48,12,42,10,"storedToken"],[48,23,42,21],[48,27,42,25,"storedUser"],[48,37,42,35],[48,39,42,37],[49,10,43,8,"setToken"],[49,18,43,16],[49,19,43,17,"storedToken"],[49,30,43,28],[49,31,43,29],[50,10,44,8,"setUser"],[50,17,44,15],[50,18,44,16,"JSON"],[50,22,44,20],[50,23,44,21,"parse"],[50,28,44,26],[50,29,44,27,"storedUser"],[50,39,44,37],[50,40,44,38],[50,41,44,39],[51,8,45,6],[52,6,46,4],[52,7,46,5],[52,8,46,6],[52,15,46,13,"error"],[52,20,46,18],[52,22,46,20],[53,8,47,6,"console"],[53,15,47,13],[53,16,47,14,"error"],[53,21,47,19],[53,22,47,20],[53,44,47,42],[53,46,47,44,"error"],[53,51,47,49],[53,52,47,50],[54,6,48,4],[54,7,48,5],[54,16,48,14],[55,8,49,6,"setLoading"],[55,18,49,16],[55,19,49,17],[55,24,49,22],[55,25,49,23],[56,6,50,4],[57,4,51,2],[57,5,51,3],[58,4,53,2],[58,10,53,8,"login"],[58,15,53,13],[58,18,53,16],[58,24,53,16,"login"],[58,25,53,23,"email"],[58,30,53,36],[58,32,53,38,"password"],[58,40,53,54],[58,45,53,59],[59,6,54,4],[59,10,54,8],[60,8,55,6],[60,14,55,12,"response"],[60,22,55,20],[60,25,55,23],[60,31,55,29,"axios"],[60,36,55,34],[60,37,55,34,"default"],[60,44,55,34],[60,45,55,35,"post"],[60,49,55,39],[60,50,55,40],[60,53,55,43,"BACKEND_URL"],[60,64,55,54],[60,81,55,71],[60,83,55,73],[61,10,56,8,"email"],[61,15,56,13],[62,10,57,8,"password"],[63,8,58,6],[63,9,58,7],[63,10,58,8],[64,8,60,6],[64,14,60,12],[65,10,60,14,"access_token"],[65,22,60,26],[66,10,60,28,"user"],[66,14,60,32],[66,16,60,34,"userData"],[67,8,60,43],[67,9,60,44],[67,12,60,47,"response"],[67,20,60,55],[67,21,60,56,"data"],[67,25,60,60],[68,8,62,6],[68,14,62,12,"AsyncStorage"],[68,26,62,24],[68,27,62,24,"default"],[68,34,62,24],[68,35,62,25,"setItem"],[68,42,62,32],[68,43,62,33],[68,50,62,40],[68,52,62,42,"access_token"],[68,64,62,54],[68,65,62,55],[69,8,63,6],[69,14,63,12,"AsyncStorage"],[69,26,63,24],[69,27,63,24,"default"],[69,34,63,24],[69,35,63,25,"setItem"],[69,42,63,32],[69,43,63,33],[69,49,63,39],[69,51,63,41,"JSON"],[69,55,63,45],[69,56,63,46,"stringify"],[69,65,63,55],[69,66,63,56,"userData"],[69,74,63,64],[69,75,63,65],[69,76,63,66],[70,8,65,6,"setToken"],[70,16,65,14],[70,17,65,15,"access_token"],[70,29,65,27],[70,30,65,28],[71,8,66,6,"setUser"],[71,15,66,13],[71,16,66,14,"userData"],[71,24,66,22],[71,25,66,23],[72,6,67,4],[72,7,67,5],[72,8,67,6],[72,15,67,13,"error"],[72,20,67,23],[72,22,67,25],[73,8,68,6],[73,14,68,12],[73,18,68,16,"Error"],[73,23,68,21],[73,24,68,22,"error"],[73,29,68,27],[73,30,68,28,"response"],[73,38,68,36],[73,40,68,38,"data"],[73,44,68,42],[73,46,68,44,"detail"],[73,52,68,50],[73,56,68,54],[73,70,68,68],[73,71,68,69],[74,6,69,4],[75,4,70,2],[75,5,70,3],[76,4,72,2],[76,10,72,8,"register"],[76,18,72,16],[76,21,72,19],[76,27,72,19,"register"],[76,28,72,26,"email"],[76,33,72,39],[76,35,72,41,"password"],[76,43,72,57],[76,45,72,59,"name"],[76,49,72,71],[76,51,72,73,"role"],[76,55,72,85],[76,60,72,90],[77,6,73,4],[77,10,73,8],[78,8,74,6],[78,14,74,12,"response"],[78,22,74,20],[78,25,74,23],[78,31,74,29,"axios"],[78,36,74,34],[78,37,74,34,"default"],[78,44,74,34],[78,45,74,35,"post"],[78,49,74,39],[78,50,74,40],[78,53,74,43,"BACKEND_URL"],[78,64,74,54],[78,84,74,74],[78,86,74,76],[79,10,75,8,"email"],[79,15,75,13],[80,10,76,8,"password"],[80,18,76,16],[81,10,77,8,"name"],[81,14,77,12],[82,10,78,8,"role"],[83,8,79,6],[83,9,79,7],[83,10,79,8],[84,8,81,6],[84,14,81,12],[85,10,81,14,"access_token"],[85,22,81,26],[86,10,81,28,"user"],[86,14,81,32],[86,16,81,34,"userData"],[87,8,81,43],[87,9,81,44],[87,12,81,47,"response"],[87,20,81,55],[87,21,81,56,"data"],[87,25,81,60],[88,8,83,6],[88,14,83,12,"AsyncStorage"],[88,26,83,24],[88,27,83,24,"default"],[88,34,83,24],[88,35,83,25,"setItem"],[88,42,83,32],[88,43,83,33],[88,50,83,40],[88,52,83,42,"access_token"],[88,64,83,54],[88,65,83,55],[89,8,84,6],[89,14,84,12,"AsyncStorage"],[89,26,84,24],[89,27,84,24,"default"],[89,34,84,24],[89,35,84,25,"setItem"],[89,42,84,32],[89,43,84,33],[89,49,84,39],[89,51,84,41,"JSON"],[89,55,84,45],[89,56,84,46,"stringify"],[89,65,84,55],[89,66,84,56,"userData"],[89,74,84,64],[89,75,84,65],[89,76,84,66],[90,8,86,6,"setToken"],[90,16,86,14],[90,17,86,15,"access_token"],[90,29,86,27],[90,30,86,28],[91,8,87,6,"setUser"],[91,15,87,13],[91,16,87,14,"userData"],[91,24,87,22],[91,25,87,23],[92,6,88,4],[92,7,88,5],[92,8,88,6],[92,15,88,13,"error"],[92,20,88,23],[92,22,88,25],[93,8,89,6],[93,14,89,12],[93,18,89,16,"Error"],[93,23,89,21],[93,24,89,22,"error"],[93,29,89,27],[93,30,89,28,"response"],[93,38,89,36],[93,40,89,38,"data"],[93,44,89,42],[93,46,89,44,"detail"],[93,52,89,50],[93,56,89,54],[93,77,89,75],[93,78,89,76],[94,6,90,4],[95,4,91,2],[95,5,91,3],[96,4,93,2],[96,10,93,8,"logout"],[96,16,93,14],[96,19,93,17],[96,25,93,17,"logout"],[96,26,93,17],[96,31,93,29],[97,6,94,4],[97,12,94,10,"AsyncStorage"],[97,24,94,22],[97,25,94,22,"default"],[97,32,94,22],[97,33,94,23,"removeItem"],[97,43,94,33],[97,44,94,34],[97,51,94,41],[97,52,94,42],[98,6,95,4],[98,12,95,10,"AsyncStorage"],[98,24,95,22],[98,25,95,22,"default"],[98,32,95,22],[98,33,95,23,"removeItem"],[98,43,95,33],[98,44,95,34],[98,50,95,40],[98,51,95,41],[99,6,96,4,"setToken"],[99,14,96,12],[99,15,96,13],[99,19,96,17],[99,20,96,18],[100,6,97,4,"setUser"],[100,13,97,11],[100,14,97,12],[100,18,97,16],[100,19,97,17],[101,4,98,2],[101,5,98,3],[102,4,100,2],[102,24,101,4],[102,28,101,4,"_reactJsxDevRuntime"],[102,47,101,4],[102,48,101,4,"jsxDEV"],[102,54,101,4],[102,56,101,5,"AuthContext"],[102,67,101,16],[102,68,101,17,"Provider"],[102,76,101,25],[103,6,101,26,"value"],[103,11,101,31],[103,13,101,33],[104,8,101,35,"user"],[104,12,101,39],[105,8,101,41,"token"],[105,13,101,46],[106,8,101,48,"login"],[106,13,101,53],[107,8,101,55,"register"],[107,16,101,63],[108,8,101,65,"logout"],[108,14,101,71],[109,8,101,73,"loading"],[110,6,101,81],[110,7,101,83],[111,6,101,83,"children"],[111,14,101,83],[111,16,102,7,"children"],[112,4,102,15],[113,6,102,15,"fileName"],[113,14,102,15],[113,16,102,15,"_jsxFileName"],[113,28,102,15],[114,6,102,15,"lineNumber"],[114,16,102,15],[115,6,102,15,"columnNumber"],[115,18,102,15],[116,4,102,15],[116,11,103,26],[116,12,103,27],[117,2,105,0],[117,3,105,1],[118,2,107,7],[118,8,107,13,"useAuth"],[118,15,107,20],[118,18,107,23,"useAuth"],[118,19,107,23],[118,24,107,29],[119,4,108,2],[119,10,108,8,"context"],[119,17,108,15],[119,20,108,18],[119,24,108,18,"useContext"],[119,30,108,28],[119,31,108,28,"useContext"],[119,41,108,28],[119,43,108,29,"AuthContext"],[119,54,108,40],[119,55,108,41],[120,4,109,2],[120,8,109,6,"context"],[120,15,109,13],[120,20,109,18,"undefined"],[120,29,109,27],[120,31,109,29],[121,6,110,4],[121,12,110,10],[121,16,110,14,"Error"],[121,21,110,19],[121,22,110,20],[121,67,110,65],[121,68,110,66],[122,4,111,2],[123,4,112,2],[123,11,112,9,"context"],[123,18,112,16],[124,2,113,0],[124,3,113,1],[125,0,113,2],[125,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}