{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Failed to load auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, name, role) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          email,\n          password,\n          name,\n          role\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":135,"map":[[15,2,28,0,"Object"],[15,8,28,0],[15,9,28,0,"defineProperty"],[15,23,28,0],[15,24,28,0,"exports"],[15,31,28,0],[16,4,28,0,"enumerable"],[16,14,28,0],[17,4,28,0,"get"],[17,7,28,0],[17,18,28,0,"get"],[17,19,28,0],[18,6,28,0],[18,13,28,0,"AuthProvider"],[18,25,28,0],[19,4,28,0],[20,2,28,0],[21,2,107,0,"Object"],[21,8,107,0],[21,9,107,0,"defineProperty"],[21,23,107,0],[21,24,107,0,"exports"],[21,31,107,0],[22,4,107,0,"enumerable"],[22,14,107,0],[23,4,107,0,"get"],[23,7,107,0],[23,18,107,0,"get"],[23,19,107,0],[24,6,107,0],[24,13,107,0,"useAuth"],[24,20,107,0],[25,4,107,0],[26,2,107,0],[27,2,113,2],[27,6,113,2,"_expoVirtualEnv"],[27,21,113,2],[27,24,113,2,"require"],[27,31,113,2],[27,32,113,2,"_dependencyMap"],[27,46,113,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_expoConstants"],[33,20,4,0],[33,23,4,0,"require"],[33,30,4,0],[33,31,4,0,"_dependencyMap"],[33,45,4,0],[34,2,4,0],[34,6,4,0,"Constants"],[34,15,4,0],[34,18,4,0,"_interopDefault"],[34,33,4,0],[34,34,4,0,"_expoConstants"],[34,48,4,0],[35,2,4,39],[35,6,4,39,"_reactJsxDevRuntime"],[35,25,4,39],[35,28,4,39,"require"],[35,35,4,39],[35,36,4,39,"_dependencyMap"],[35,50,4,39],[36,2,6,0],[36,8,6,6,"BACKEND_URL"],[36,19,6,17],[36,22,6,20,"Constants"],[36,31,6,29],[36,32,6,29,"default"],[36,39,6,29],[36,40,6,30,"expoConfig"],[36,50,6,40],[36,52,6,42,"extra"],[36,57,6,47],[36,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[36,82,6,72],[36,86,6,72,"_expoVirtualEnv"],[36,101,6,72],[36,102,6,72,"env"],[36,105,6,72],[36,106,6,72,"EXPO_PUBLIC_BACKEND_URL"],[36,129,6,111],[37,2,26,0],[37,8,26,6,"AuthContext"],[37,19,26,17],[37,35,26,20],[37,39,26,20,"createContext"],[37,45,26,33],[37,46,26,33,"createContext"],[37,59,26,33],[37,61,26,63,"undefined"],[37,70,26,72],[37,71,26,73],[38,2,28,7],[38,8,28,13,"AuthProvider"],[38,20,28,66],[38,23,28,69,"AuthProvider"],[38,24,28,70],[39,4,28,72,"children"],[40,2,28,81],[40,3,28,82],[40,8,28,87],[41,4,28,87,"_s"],[41,6,28,87],[42,4,29,2],[42,10,29,8],[42,11,29,9,"user"],[42,15,29,13],[42,17,29,15,"setUser"],[42,24,29,22],[42,25,29,23],[42,28,29,26],[42,32,29,26,"useState"],[42,38,29,34],[42,39,29,34,"useState"],[42,47,29,34],[42,49,29,48],[42,53,29,52],[42,54,29,53],[43,4,30,2],[43,10,30,8],[43,11,30,9,"token"],[43,16,30,14],[43,18,30,16,"setToken"],[43,26,30,24],[43,27,30,25],[43,30,30,28],[43,34,30,28,"useState"],[43,40,30,36],[43,41,30,36,"useState"],[43,49,30,36],[43,51,30,52],[43,55,30,56],[43,56,30,57],[44,4,31,2],[44,10,31,8],[44,11,31,9,"loading"],[44,18,31,16],[44,20,31,18,"setLoading"],[44,30,31,28],[44,31,31,29],[44,34,31,32],[44,38,31,32,"useState"],[44,44,31,40],[44,45,31,40,"useState"],[44,53,31,40],[44,55,31,41],[44,59,31,45],[44,60,31,46],[45,4,33,2],[45,8,33,2,"useEffect"],[45,14,33,11],[45,15,33,11,"useEffect"],[45,24,33,11],[45,26,33,12],[45,32,33,18],[46,6,34,4,"loadStoredAuth"],[46,20,34,18],[46,21,34,19],[46,22,34,20],[47,4,35,2],[47,5,35,3],[47,7,35,5],[47,9,35,7],[47,10,35,8],[48,4,37,2],[48,10,37,8,"loadStoredAuth"],[48,24,37,22],[48,27,37,25],[48,33,37,25,"loadStoredAuth"],[48,34,37,25],[48,39,37,37],[49,6,38,4],[49,10,38,8],[50,8,39,6],[50,14,39,12,"storedToken"],[50,25,39,23],[50,28,39,26],[50,34,39,32,"AsyncStorage"],[50,46,39,44],[50,47,39,44,"default"],[50,54,39,44],[50,55,39,45,"getItem"],[50,62,39,52],[50,63,39,53],[50,70,39,60],[50,71,39,61],[51,8,40,6],[51,14,40,12,"storedUser"],[51,24,40,22],[51,27,40,25],[51,33,40,31,"AsyncStorage"],[51,45,40,43],[51,46,40,43,"default"],[51,53,40,43],[51,54,40,44,"getItem"],[51,61,40,51],[51,62,40,52],[51,68,40,58],[51,69,40,59],[52,8,42,6],[52,12,42,10,"storedToken"],[52,23,42,21],[52,27,42,25,"storedUser"],[52,37,42,35],[52,39,42,37],[53,10,43,8,"setToken"],[53,18,43,16],[53,19,43,17,"storedToken"],[53,30,43,28],[53,31,43,29],[54,10,44,8,"setUser"],[54,17,44,15],[54,18,44,16,"JSON"],[54,22,44,20],[54,23,44,21,"parse"],[54,28,44,26],[54,29,44,27,"storedUser"],[54,39,44,37],[54,40,44,38],[54,41,44,39],[55,8,45,6],[56,6,46,4],[56,7,46,5],[56,8,46,6],[56,15,46,13,"error"],[56,20,46,18],[56,22,46,20],[57,8,47,6,"console"],[57,15,47,13],[57,16,47,14,"error"],[57,21,47,19],[57,22,47,20],[57,44,47,42],[57,46,47,44,"error"],[57,51,47,49],[57,52,47,50],[58,6,48,4],[58,7,48,5],[58,16,48,14],[59,8,49,6,"setLoading"],[59,18,49,16],[59,19,49,17],[59,24,49,22],[59,25,49,23],[60,6,50,4],[61,4,51,2],[61,5,51,3],[62,4,53,2],[62,10,53,8,"login"],[62,15,53,13],[62,18,53,16],[62,24,53,16,"login"],[62,25,53,23,"email"],[62,30,53,36],[62,32,53,38,"password"],[62,40,53,54],[62,45,53,59],[63,6,54,4],[63,10,54,8],[64,8,55,6],[64,14,55,12,"response"],[64,22,55,20],[64,25,55,23],[64,31,55,29,"axios"],[64,36,55,34],[64,37,55,34,"default"],[64,44,55,34],[64,45,55,35,"post"],[64,49,55,39],[64,50,55,40],[64,53,55,43,"BACKEND_URL"],[64,64,55,54],[64,81,55,71],[64,83,55,73],[65,10,56,8,"email"],[65,15,56,13],[66,10,57,8,"password"],[67,8,58,6],[67,9,58,7],[67,10,58,8],[68,8,60,6],[68,14,60,12],[69,10,60,14,"access_token"],[69,22,60,26],[70,10,60,28,"user"],[70,14,60,32],[70,16,60,34,"userData"],[71,8,60,43],[71,9,60,44],[71,12,60,47,"response"],[71,20,60,55],[71,21,60,56,"data"],[71,25,60,60],[72,8,62,6],[72,14,62,12,"AsyncStorage"],[72,26,62,24],[72,27,62,24,"default"],[72,34,62,24],[72,35,62,25,"setItem"],[72,42,62,32],[72,43,62,33],[72,50,62,40],[72,52,62,42,"access_token"],[72,64,62,54],[72,65,62,55],[73,8,63,6],[73,14,63,12,"AsyncStorage"],[73,26,63,24],[73,27,63,24,"default"],[73,34,63,24],[73,35,63,25,"setItem"],[73,42,63,32],[73,43,63,33],[73,49,63,39],[73,51,63,41,"JSON"],[73,55,63,45],[73,56,63,46,"stringify"],[73,65,63,55],[73,66,63,56,"userData"],[73,74,63,64],[73,75,63,65],[73,76,63,66],[74,8,65,6,"setToken"],[74,16,65,14],[74,17,65,15,"access_token"],[74,29,65,27],[74,30,65,28],[75,8,66,6,"setUser"],[75,15,66,13],[75,16,66,14,"userData"],[75,24,66,22],[75,25,66,23],[76,6,67,4],[76,7,67,5],[76,8,67,6],[76,15,67,13,"error"],[76,20,67,23],[76,22,67,25],[77,8,68,6],[77,14,68,12],[77,18,68,16,"Error"],[77,23,68,21],[77,24,68,22,"error"],[77,29,68,27],[77,30,68,28,"response"],[77,38,68,36],[77,40,68,38,"data"],[77,44,68,42],[77,46,68,44,"detail"],[77,52,68,50],[77,56,68,54],[77,70,68,68],[77,71,68,69],[78,6,69,4],[79,4,70,2],[79,5,70,3],[80,4,72,2],[80,10,72,8,"register"],[80,18,72,16],[80,21,72,19],[80,27,72,19,"register"],[80,28,72,26,"email"],[80,33,72,39],[80,35,72,41,"password"],[80,43,72,57],[80,45,72,59,"name"],[80,49,72,71],[80,51,72,73,"role"],[80,55,72,85],[80,60,72,90],[81,6,73,4],[81,10,73,8],[82,8,74,6],[82,14,74,12,"response"],[82,22,74,20],[82,25,74,23],[82,31,74,29,"axios"],[82,36,74,34],[82,37,74,34,"default"],[82,44,74,34],[82,45,74,35,"post"],[82,49,74,39],[82,50,74,40],[82,53,74,43,"BACKEND_URL"],[82,64,74,54],[82,84,74,74],[82,86,74,76],[83,10,75,8,"email"],[83,15,75,13],[84,10,76,8,"password"],[84,18,76,16],[85,10,77,8,"name"],[85,14,77,12],[86,10,78,8,"role"],[87,8,79,6],[87,9,79,7],[87,10,79,8],[88,8,81,6],[88,14,81,12],[89,10,81,14,"access_token"],[89,22,81,26],[90,10,81,28,"user"],[90,14,81,32],[90,16,81,34,"userData"],[91,8,81,43],[91,9,81,44],[91,12,81,47,"response"],[91,20,81,55],[91,21,81,56,"data"],[91,25,81,60],[92,8,83,6],[92,14,83,12,"AsyncStorage"],[92,26,83,24],[92,27,83,24,"default"],[92,34,83,24],[92,35,83,25,"setItem"],[92,42,83,32],[92,43,83,33],[92,50,83,40],[92,52,83,42,"access_token"],[92,64,83,54],[92,65,83,55],[93,8,84,6],[93,14,84,12,"AsyncStorage"],[93,26,84,24],[93,27,84,24,"default"],[93,34,84,24],[93,35,84,25,"setItem"],[93,42,84,32],[93,43,84,33],[93,49,84,39],[93,51,84,41,"JSON"],[93,55,84,45],[93,56,84,46,"stringify"],[93,65,84,55],[93,66,84,56,"userData"],[93,74,84,64],[93,75,84,65],[93,76,84,66],[94,8,86,6,"setToken"],[94,16,86,14],[94,17,86,15,"access_token"],[94,29,86,27],[94,30,86,28],[95,8,87,6,"setUser"],[95,15,87,13],[95,16,87,14,"userData"],[95,24,87,22],[95,25,87,23],[96,6,88,4],[96,7,88,5],[96,8,88,6],[96,15,88,13,"error"],[96,20,88,23],[96,22,88,25],[97,8,89,6],[97,14,89,12],[97,18,89,16,"Error"],[97,23,89,21],[97,24,89,22,"error"],[97,29,89,27],[97,30,89,28,"response"],[97,38,89,36],[97,40,89,38,"data"],[97,44,89,42],[97,46,89,44,"detail"],[97,52,89,50],[97,56,89,54],[97,77,89,75],[97,78,89,76],[98,6,90,4],[99,4,91,2],[99,5,91,3],[100,4,93,2],[100,10,93,8,"logout"],[100,16,93,14],[100,19,93,17],[100,25,93,17,"logout"],[100,26,93,17],[100,31,93,29],[101,6,94,4],[101,12,94,10,"AsyncStorage"],[101,24,94,22],[101,25,94,22,"default"],[101,32,94,22],[101,33,94,23,"removeItem"],[101,43,94,33],[101,44,94,34],[101,51,94,41],[101,52,94,42],[102,6,95,4],[102,12,95,10,"AsyncStorage"],[102,24,95,22],[102,25,95,22,"default"],[102,32,95,22],[102,33,95,23,"removeItem"],[102,43,95,33],[102,44,95,34],[102,50,95,40],[102,51,95,41],[103,6,96,4,"setToken"],[103,14,96,12],[103,15,96,13],[103,19,96,17],[103,20,96,18],[104,6,97,4,"setUser"],[104,13,97,11],[104,14,97,12],[104,18,97,16],[104,19,97,17],[105,4,98,2],[105,5,98,3],[106,4,100,2],[106,24,101,4],[106,28,101,4,"_reactJsxDevRuntime"],[106,47,101,4],[106,48,101,4,"jsxDEV"],[106,54,101,4],[106,56,101,5,"AuthContext"],[106,67,101,16],[106,68,101,17,"Provider"],[106,76,101,25],[107,6,101,26,"value"],[107,11,101,31],[107,13,101,33],[108,8,101,35,"user"],[108,12,101,39],[109,8,101,41,"token"],[109,13,101,46],[110,8,101,48,"login"],[110,13,101,53],[111,8,101,55,"register"],[111,16,101,63],[112,8,101,65,"logout"],[112,14,101,71],[113,8,101,73,"loading"],[114,6,101,81],[114,7,101,83],[115,6,101,83,"children"],[115,14,101,83],[115,16,102,7,"children"],[116,4,102,15],[117,6,102,15,"fileName"],[117,14,102,15],[117,16,102,15,"_jsxFileName"],[117,28,102,15],[118,6,102,15,"lineNumber"],[118,16,102,15],[119,6,102,15,"columnNumber"],[119,18,102,15],[120,4,102,15],[120,11,103,26],[120,12,103,27],[121,2,105,0],[121,3,105,1],[122,2,105,2,"_s"],[122,4,105,2],[122,5,28,13,"AuthProvider"],[122,17,28,66],[123,2,28,66,"_c"],[123,4,28,66],[123,7,28,13,"AuthProvider"],[123,19,28,66],[124,2,107,7],[124,8,107,13,"useAuth"],[124,15,107,20],[124,18,107,23,"useAuth"],[124,19,107,23],[124,24,107,29],[125,4,107,29,"_s2"],[125,7,107,29],[126,4,108,2],[126,10,108,8,"context"],[126,17,108,15],[126,20,108,18],[126,24,108,18,"useContext"],[126,30,108,28],[126,31,108,28,"useContext"],[126,41,108,28],[126,43,108,29,"AuthContext"],[126,54,108,40],[126,55,108,41],[127,4,109,2],[127,8,109,6,"context"],[127,15,109,13],[127,20,109,18,"undefined"],[127,29,109,27],[127,31,109,29],[128,6,110,4],[128,12,110,10],[128,16,110,14,"Error"],[128,21,110,19],[128,22,110,20],[128,67,110,65],[128,68,110,66],[129,4,111,2],[130,4,112,2],[130,11,112,9,"context"],[130,18,112,16],[131,2,113,0],[131,3,113,1],[132,2,113,2,"_s2"],[132,5,113,2],[132,6,107,13,"useAuth"],[132,13,107,20],[133,2,107,20],[133,6,107,20,"_c"],[133,8,107,20],[134,2,107,20,"$RefreshReg$"],[134,14,107,20],[134,15,107,20,"_c"],[134,17,107,20],[135,0,107,20],[135,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}